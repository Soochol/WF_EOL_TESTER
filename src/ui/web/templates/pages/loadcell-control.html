<!--
LoadCell Hardware Control Panel Template - WF EOL Tester Web Interface

This template provides comprehensive LoadCell control functionality including:
- Connection management with serial communication settings
- Real-time force readings with unit display
- Zero calibration functionality
- Live force monitoring with chart visualization
- Force measurement history and statistics
- Calibration status and accuracy indicators
-->

<div id="loadcell-control-page" class="content-page hardware-control-panel" style="display: none;">
    <div class="page-header">
        <div class="header-content">
            <h1 class="page-title">
                <i class="icon-loadcell"></i>
                LoadCell Control System
            </h1>
            <div class="page-subtitle">
                BS205 Force Measurement Sensor
            </div>
        </div>
        
        <!-- Status Badge -->
        <div class="status-badge" id="loadcell-status-badge">
            <div class="status-indicator">
                <div class="status-light status-unknown"></div>
                <span class="status-text">Disconnected</span>
            </div>
        </div>
    </div>

    <div class="panel-grid">
        <!-- Connection Panel -->
        <div class="control-panel connection-panel">
            <div class="panel-header">
                <h3><i class="icon-connection"></i> Serial Connection</h3>
                <div class="connection-status" id="loadcell-connection-status">
                    <div class="status-dot status-unknown"></div>
                    <span>Disconnected</span>
                </div>
            </div>
            
            <div class="panel-content">
                <div class="connection-info" id="loadcell-connection-info">
                    <div class="info-row">
                        <label>Sensor Type:</label>
                        <span>BS205 Force Measurement</span>
                    </div>
                    <div class="info-row">
                        <label>Port:</label>
                        <span id="loadcell-port">COM8</span>
                    </div>
                    <div class="info-row">
                        <label>Baudrate:</label>
                        <span id="loadcell-baudrate">9600</span>
                    </div>
                    <div class="info-row">
                        <label>Timeout:</label>
                        <span id="loadcell-timeout">1.0s</span>
                    </div>
                    <div class="info-row">
                        <label>Indicator ID:</label>
                        <span id="loadcell-indicator-id">1</span>
                    </div>
                </div>
                
                <div class="connection-controls">
                    <button class="btn btn-success" id="loadcell-connect-btn">
                        <i class="icon-connect"></i>
                        Connect
                    </button>
                    <button class="btn btn-secondary" id="loadcell-disconnect-btn" disabled>
                        <i class="icon-disconnect"></i>
                        Disconnect
                    </button>
                </div>
            </div>
        </div>

        <!-- Force Reading Panel -->
        <div class="control-panel force-reading-panel">
            <div class="panel-header">
                <h3><i class="icon-force"></i> Force Reading</h3>
                <button class="btn btn-sm btn-outline" id="loadcell-read-force-btn">
                    <i class="icon-refresh"></i>
                    Read
                </button>
            </div>
            
            <div class="panel-content">
                <div class="force-display">
                    <div class="force-reading">
                        <div class="reading-label">Current Force</div>
                        <div class="reading-value" id="loadcell-current-force">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                        <div class="reading-status" id="loadcell-force-status">
                            <div class="status-dot status-unknown"></div>
                            <span>Unknown</span>
                        </div>
                    </div>
                    
                    <div class="force-range-indicator">
                        <div class="range-label">Force Range</div>
                        <div class="range-bar">
                            <div class="range-fill" id="loadcell-range-fill" style="width: 0%"></div>
                        </div>
                        <div class="range-values">
                            <span class="min-value">0.000</span>
                            <span class="max-value" id="loadcell-max-range">100.000</span>
                        </div>
                    </div>
                </div>
                
                <div class="force-controls">
                    <button class="btn btn-primary" id="loadcell-read-single-btn" disabled>
                        <i class="icon-measure"></i>
                        Read Force
                    </button>
                    <button class="btn btn-info" id="loadcell-monitor-force-btn" disabled>
                        <i class="icon-monitor"></i>
                        Live Monitor
                    </button>
                    <button class="btn btn-warning" id="loadcell-stop-monitor-btn" disabled style="display: none;">
                        <i class="icon-stop"></i>
                        Stop Monitor
                    </button>
                </div>
            </div>
        </div>

        <!-- Calibration Panel -->
        <div class="control-panel calibration-panel">
            <div class="panel-header">
                <h3><i class="icon-calibrate"></i> Calibration</h3>
                <div class="calibration-status" id="loadcell-calibration-status">
                    <div class="status-dot status-unknown"></div>
                    <span>Unknown</span>
                </div>
            </div>
            
            <div class="panel-content">
                <div class="calibration-info">
                    <div class="info-card">
                        <div class="info-title">Last Calibration</div>
                        <div class="info-value" id="loadcell-last-calibration">Never</div>
                    </div>
                    <div class="info-card">
                        <div class="info-title">Zero Offset</div>
                        <div class="info-value" id="loadcell-zero-offset">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    <div class="info-card">
                        <div class="info-title">Accuracy</div>
                        <div class="info-value" id="loadcell-accuracy">Â±0.001 kgf</div>
                    </div>
                </div>
                
                <div class="calibration-controls">
                    <button class="btn btn-warning btn-lg" id="loadcell-zero-calibration-btn" disabled>
                        <i class="icon-zero"></i>
                        Zero Calibration
                        <span class="btn-subtitle">Reset to 0.000 kgf</span>
                    </button>
                </div>
                
                <div class="calibration-instructions">
                    <i class="icon-info"></i>
                    <div class="instructions-text">
                        <div class="instruction-title">Zero Calibration Instructions:</div>
                        <ol>
                            <li>Remove all loads from the sensor</li>
                            <li>Ensure sensor is stable and settled</li>
                            <li>Click "Zero Calibration" to set current reading as zero</li>
                            <li>Verify zero reading after calibration</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- Force Chart Panel -->
        <div class="control-panel chart-panel">
            <div class="panel-header">
                <h3><i class="icon-chart"></i> Force Chart</h3>
                <div class="chart-controls">
                    <button class="btn btn-sm btn-outline" id="loadcell-clear-chart-btn">
                        <i class="icon-clear"></i>
                        Clear
                    </button>
                    <button class="btn btn-sm btn-outline" id="loadcell-export-chart-btn">
                        <i class="icon-export"></i>
                        Export
                    </button>
                </div>
            </div>
            
            <div class="panel-content">
                <div class="chart-container" id="loadcell-chart-container">
                    <!-- Force chart will be rendered here -->
                </div>
                
                <div class="chart-info">
                    <div class="info-row">
                        <label>Data Points:</label>
                        <span id="loadcell-data-points">0</span>
                    </div>
                    <div class="info-row">
                        <label>Update Rate:</label>
                        <span id="loadcell-update-rate">2.0 Hz</span>
                    </div>
                    <div class="info-row">
                        <label>Chart Range:</label>
                        <span id="loadcell-chart-range">Last 50 readings</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Panel -->
        <div class="control-panel statistics-panel">
            <div class="panel-header">
                <h3><i class="icon-statistics"></i> Force Statistics</h3>
                <button class="btn btn-sm btn-outline" id="loadcell-reset-stats-btn">
                    <i class="icon-reset"></i>
                    Reset
                </button>
            </div>
            
            <div class="panel-content">
                <div class="statistics-grid">
                    <div class="stat-card">
                        <div class="stat-label">Current</div>
                        <div class="stat-value" id="loadcell-stat-current">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Maximum</div>
                        <div class="stat-value" id="loadcell-stat-max">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Minimum</div>
                        <div class="stat-value" id="loadcell-stat-min">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Average</div>
                        <div class="stat-value" id="loadcell-stat-avg">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Std Deviation</div>
                        <div class="stat-value" id="loadcell-stat-std">
                            <span class="value">---.---</span>
                            <span class="unit">kgf</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">Readings</div>
                        <div class="stat-value" id="loadcell-stat-count">
                            <span class="value">0</span>
                            <span class="unit">samples</span>
                        </div>
                    </div>
                </div>
                
                <div class="statistics-summary">
                    <div class="summary-title">Measurement Quality</div>
                    <div class="quality-indicators">
                        <div class="quality-item">
                            <label>Stability:</label>
                            <span id="loadcell-stability">Good</span>
                            <div class="stability-bar">
                                <div class="stability-fill" id="loadcell-stability-fill" style="width: 75%"></div>
                            </div>
                        </div>
                        <div class="quality-item">
                            <label>Signal Quality:</label>
                            <span id="loadcell-signal-quality">Excellent</span>
                            <div class="signal-bar">
                                <div class="signal-fill" id="loadcell-signal-fill" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Operations Log Panel -->
        <div class="control-panel log-panel">
            <div class="panel-header">
                <h3><i class="icon-log"></i> Operations Log</h3>
                <div class="log-controls">
                    <button class="btn btn-sm btn-outline" id="loadcell-clear-log-btn">
                        <i class="icon-clear"></i>
                        Clear
                    </button>
                    <button class="btn btn-sm btn-outline" id="loadcell-export-log-btn">
                        <i class="icon-export"></i>
                        Export
                    </button>
                </div>
            </div>
            
            <div class="panel-content">
                <div class="log-viewer" id="loadcell-log-viewer">
                    <div class="log-entry">
                        <span class="timestamp">[--:--:--]</span>
                        <span class="level info">INFO</span>
                        <span class="message">LoadCell Control Panel initialized</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>