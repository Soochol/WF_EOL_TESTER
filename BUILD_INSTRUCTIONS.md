# WF EOL Tester - ë°°í¬ íŒŒì¼ ë¹Œë“œ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
- [ì‚¬ì „ ìš”êµ¬ì‚¬í•­](#ì‚¬ì „-ìš”êµ¬ì‚¬í•­)
- [ë¹Œë“œ íŒŒì¼ êµ¬ì¡°](#ë¹Œë“œ-íŒŒì¼-êµ¬ì¡°)
- [ë¹Œë“œ ë°©ë²•](#ë¹Œë“œ-ë°©ë²•)
- [íŒŒì¼ ì„¤ëª…](#íŒŒì¼-ì„¤ëª…)
- [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

## ğŸ”§ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´

1. **Python í™˜ê²½**
   - Python 3.10 ì´ìƒ
   - uv íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € (ê¶Œì¥) ë˜ëŠ” pip

2. **PyInstaller**
   ```batch
   uv sync
   ```
   ë˜ëŠ”
   ```batch
   pip install pyinstaller
   ```

3. **Inno Setup** (ì„¤ì¹˜ íŒŒì¼ ìƒì„±ìš©)
   - ë‹¤ìš´ë¡œë“œ: https://jrsoftware.org/isdl.php
   - ê¸°ë³¸ ì„¤ì¹˜ ê²½ë¡œ:
     - `C:\Program Files (x86)\Inno Setup 6\` (32ë¹„íŠ¸)
     - `C:\Program Files\Inno Setup 6\` (64ë¹„íŠ¸)

## ğŸ“ ë¹Œë“œ íŒŒì¼ êµ¬ì¡°

ë¹Œë“œ í›„ ìƒì„±ë˜ëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°:

```
WF_EOL_TESTER/
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ application/              # ì‹¤í–‰ íŒŒì¼
â”‚   â”‚   â””â”€â”€ WF_EOL_Tester/
â”‚   â”‚       â”œâ”€â”€ WF_EOL_Tester.exe    # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”‚   â”‚       â”œâ”€â”€ _internal/            # Python ëŸ°íƒ€ì„ ë° DLL
â”‚   â”‚       â”œâ”€â”€ configuration/        # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”‚       â””â”€â”€ driver/               # AXL ë“œë¼ì´ë²„ DLL
â”‚   â”‚           â””â”€â”€ AXL/
â”‚   â”‚               â”œâ”€â”€ AXL.dll
â”‚   â”‚               â””â”€â”€ EzBasicAxl.dll
â”‚   â””â”€â”€ installer/                # ì„¤ì¹˜ íŒŒì¼
â”‚       â””â”€â”€ WF_EOL_Tester_Setup_0.1.0.exe
â”‚
â”œâ”€â”€ wf_eol_tester.spec            # PyInstaller ì„¤ì •
â”œâ”€â”€ installer.iss                 # Inno Setup ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ build_all.bat                 # ì „ì²´ ë¹Œë“œ
â”œâ”€â”€ build_exe.bat                 # ì‹¤í–‰ íŒŒì¼ë§Œ ë¹Œë“œ
â””â”€â”€ build_installer.bat           # ì„¤ì¹˜ íŒŒì¼ë§Œ ë¹Œë“œ
```

## ğŸš€ ë¹Œë“œ ë°©ë²•

### ë°©ë²• 1: ì „ì²´ ë¹Œë“œ (ê¶Œì¥)

ì‹¤í–‰ íŒŒì¼ê³¼ ì„¤ì¹˜ íŒŒì¼ì„ í•œ ë²ˆì— ìƒì„±:

```batch
build_all.bat
```

**ë¹Œë“œ ì‹œê°„**: ì•½ 3~5ë¶„ (í•˜ë“œì›¨ì–´ì— ë”°ë¼ ë‹¤ë¦„)

**ê²°ê³¼ë¬¼**:
- `build/application/WF_EOL_Tester/WF_EOL_Tester.exe` - ì‹¤í–‰ íŒŒì¼
- `build/installer/WF_EOL_Tester_Setup_0.1.0.exe` - ì„¤ì¹˜ íŒŒì¼

### ë°©ë²• 2: ì‹¤í–‰ íŒŒì¼ë§Œ ë¹Œë“œ

ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‹¤í–‰ íŒŒì¼ë§Œ ìƒì„±:

```batch
build_exe.bat
```

**ë¹Œë“œ ì‹œê°„**: ì•½ 2~3ë¶„

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:
- ì½”ë“œ ë³€ê²½ í›„ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
- ì„¤ì¹˜ íŒŒì¼ ì—†ì´ ì‹¤í–‰ íŒŒì¼ë§Œ ë°°í¬
- ê°œë°œ ì¤‘ ë°˜ë³µ ë¹Œë“œ

### ë°©ë²• 3: ì„¤ì¹˜ íŒŒì¼ë§Œ ë¹Œë“œ

ì‹¤í–‰ íŒŒì¼ì´ ì´ë¯¸ ìˆì„ ë•Œ ì„¤ì¹˜ íŒŒì¼ë§Œ ìƒì„±:

```batch
build_installer.bat
```

**ë¹Œë“œ ì‹œê°„**: ì•½ 30ì´ˆ~1ë¶„

**ì‚¬ì „ ì¡°ê±´**: `build/application/WF_EOL_Tester/WF_EOL_Tester.exe` ì¡´ì¬ í•„ìš”

## ğŸ“„ íŒŒì¼ ì„¤ëª…

### 1. `wf_eol_tester.spec`

PyInstaller ë¹Œë“œ ì„¤ì • íŒŒì¼

**ì£¼ìš” ì„¤ì •**:
- ì§„ì…ì : `src/main_gui.py`
- ìœˆë„ìš° ëª¨ë“œ: GUI (ì½˜ì†” ì°½ ì—†ìŒ)
- í¬í•¨ ë°ì´í„°:
  - `configuration/` - ëª¨ë“  ì„¤ì • íŒŒì¼
  - `src/driver/ajinextek/AXL(Library)/Library/64Bit/` - AXL DLL
- Hidden imports: PySide6, loguru, numpy, scipy ë“±

### 2. `installer.iss`

Inno Setup ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸

**ì£¼ìš” ì„¤ì •**:
- ì•± ì´ë¦„: WF EOL Tester
- ë²„ì „: 0.1.0
- ê¸°ë³¸ ì„¤ì¹˜ ê²½ë¡œ: `C:\Program Files\WF EOL Tester`
- ì„¤ì¹˜ í•­ëª©:
  - ì‹¤í–‰ íŒŒì¼ ë° ì˜ì¡´ì„±
  - ì„¤ì • íŒŒì¼ (`configuration/`)
  - ë“œë¼ì´ë²„ íŒŒì¼ (`driver/AXL/`)
- ë°”íƒ•í™”ë©´ ë°”ë¡œê°€ê¸° ìƒì„± ì˜µì…˜
- ì‹œì‘ ë©”ë‰´ ë“±ë¡

**ì„¤ì¹˜ í›„ ë””ë ‰í† ë¦¬**:
```
C:\Program Files\WF EOL Tester\
â”œâ”€â”€ WF_EOL_Tester.exe
â”œâ”€â”€ _internal/
â”œâ”€â”€ configuration/
â”‚   â”œâ”€â”€ application.yaml
â”‚   â”œâ”€â”€ hardware_config.yaml
â”‚   â”œâ”€â”€ heating_cooling_time_test.yaml
â”‚   â””â”€â”€ test_profiles/
â””â”€â”€ driver/
    â””â”€â”€ AXL/
        â”œâ”€â”€ AXL.dll
        â””â”€â”€ EzBasicAxl.dll
```

### 3. ë¹Œë“œ ë°°ì¹˜ íŒŒì¼

#### `build_all.bat` - ì „ì²´ ë¹Œë“œ
1. ì´ì „ ë¹Œë“œ ì •ë¦¬
2. PyInstallerë¡œ ì‹¤í–‰ íŒŒì¼ ìƒì„±
3. Inno Setupìœ¼ë¡œ ì„¤ì¹˜ íŒŒì¼ ìƒì„±
4. ë¹Œë“œ ê²°ê³¼ ìš”ì•½ í‘œì‹œ

#### `build_exe.bat` - ì‹¤í–‰ íŒŒì¼ë§Œ
1. ì´ì „ ì‹¤í–‰ íŒŒì¼ ë¹Œë“œ ì •ë¦¬
2. PyInstaller ì‹¤í–‰
3. ë¹Œë“œ ê²°ê³¼ í‘œì‹œ
4. ì‹¤í–‰ ì˜µì…˜ ì œê³µ

#### `build_installer.bat` - ì„¤ì¹˜ íŒŒì¼ë§Œ
1. ì‹¤í–‰ íŒŒì¼ ì¡´ì¬ í™•ì¸
2. Inno Setup ì‹¤í–‰
3. ë¹Œë“œ ê²°ê³¼ í‘œì‹œ
4. ì„¤ì¹˜ ì˜µì…˜ ì œê³µ

## ğŸ› ë¬¸ì œ í•´ê²°

### PyInstaller ë¹Œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: "ERROR: PyInstaller build failed!"

**í•´ê²° ë°©ë²•**:

1. **ì˜ì¡´ì„± í™•ì¸**:
   ```batch
   uv sync
   ```

2. **Python ê²½ë¡œ í™•ì¸**:
   ```batch
   python --version
   ```
   Python 3.10 ì´ìƒì´ì–´ì•¼ í•¨

3. **ìºì‹œ ì •ë¦¬ í›„ ì¬ë¹Œë“œ**:
   ```batch
   rmdir /s /q build
   rmdir /s /q dist
   build_exe.bat
   ```

4. **ìƒì„¸ ë¡œê·¸ í™•ì¸**:
   ```batch
   uv run pyinstaller wf_eol_tester.spec --clean --log-level DEBUG
   ```

### Inno Setup ë¹Œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: "WARNING: Inno Setup not found!" ë˜ëŠ” "ERROR: Inno Setup build failed!"

**í•´ê²° ë°©ë²•**:

1. **Inno Setup ì„¤ì¹˜ í™•ì¸**:
   - https://jrsoftware.org/isdl.php ì—ì„œ ë‹¤ìš´ë¡œë“œ
   - ì„¤ì¹˜ ì™„ë£Œ í›„ ê²½ë¡œ í™•ì¸:
     - `C:\Program Files (x86)\Inno Setup 6\ISCC.exe`
     - `C:\Program Files\Inno Setup 6\ISCC.exe`

2. **ìˆ˜ë™ìœ¼ë¡œ Inno Setup ì‹¤í–‰**:
   - Inno Setup Compiler ì‹¤í–‰
   - `installer.iss` íŒŒì¼ ì—´ê¸°
   - Build â†’ Compile í´ë¦­

3. **ì‹¤í–‰ íŒŒì¼ ì¡´ì¬ í™•ì¸**:
   ```batch
   dir build\application\WF_EOL_Tester\WF_EOL_Tester.exe
   ```

### ì‹¤í–‰ íŒŒì¼ì´ ì‹œì‘ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: ì‹¤í–‰ íŒŒì¼ ë”ë¸”í´ë¦­ ì‹œ ì•„ë¬´ ë°˜ì‘ ì—†ìŒ

**í•´ê²° ë°©ë²•**:

1. **ì½˜ì†”ì—ì„œ ì‹¤í–‰í•˜ì—¬ ì—ëŸ¬ í™•ì¸**:
   ```batch
   cd build\application\WF_EOL_Tester
   WF_EOL_Tester.exe
   ```

2. **ì˜ì¡´ DLL í™•ì¸**:
   - `_internal/` ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸
   - `driver/AXL/` ë””ë ‰í† ë¦¬ ë° DLL ì¡´ì¬ í™•ì¸

3. **ì„¤ì • íŒŒì¼ í™•ì¸**:
   - `configuration/` ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸
   - YAML íŒŒì¼ë“¤ ì¡´ì¬ í™•ì¸

4. **ë°”ì´ëŸ¬ìŠ¤ ë°±ì‹  ì˜ˆì™¸ ì¶”ê°€**:
   - ì¼ë¶€ ë°”ì´ëŸ¬ìŠ¤ ë°±ì‹ ì´ PyInstaller ì‹¤í–‰ íŒŒì¼ì„ ì°¨ë‹¨í•  ìˆ˜ ìˆìŒ
   - ë¹Œë“œ ë””ë ‰í† ë¦¬ë¥¼ ì˜ˆì™¸ ëª©ë¡ì— ì¶”ê°€

### ì„¤ì¹˜ íŒŒì¼ì´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: ì„¤ì¹˜ íŒŒì¼ ì‹¤í–‰ ì‹œ ì—ëŸ¬ ë°œìƒ

**í•´ê²° ë°©ë²•**:

1. **ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰**:
   - ì„¤ì¹˜ íŒŒì¼ ìš°í´ë¦­ â†’ "ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰"

2. **Windows Defender SmartScreen**:
   - "ì¶”ê°€ ì •ë³´" í´ë¦­ â†’ "ì‹¤í–‰" í´ë¦­
   - (ë””ì§€í„¸ ì„œëª…ì´ ì—†ëŠ” ê²½ìš° ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŒ)

3. **ì„¤ì¹˜ íŒŒì¼ ì¬ìƒì„±**:
   ```batch
   build_installer.bat
   ```

## ğŸ“¦ ë°°í¬ ì‹œ ì°¸ê³ ì‚¬í•­

### ì„¤ì¹˜ íŒŒì¼ ë°°í¬

1. **íŒŒì¼ ìœ„ì¹˜**:
   ```
   build/installer/WF_EOL_Tester_Setup_0.1.0.exe
   ```

2. **ë°°í¬ ë°©ë²•**:
   - ë„¤íŠ¸ì›Œí¬ ê³µìœ  í´ë”
   - USB ë“œë¼ì´ë¸Œ
   - ë‹¤ìš´ë¡œë“œ ì„œë²„

3. **ì‚¬ìš©ì ì•ˆë‚´ì‚¬í•­**:
   - ê´€ë¦¬ì ê¶Œí•œ í•„ìš”
   - ì„¤ì¹˜ í›„ `C:\Program Files\WF EOL Tester\` ì— ì„¤ì¹˜ë¨
   - ì‹œì‘ ë©”ë‰´ì™€ ë°”íƒ•í™”ë©´ì— ë°”ë¡œê°€ê¸° ìƒì„± (ì˜µì…˜)

### ì‹¤í–‰ íŒŒì¼ ì§ì ‘ ë°°í¬ (í¬í„°ë¸”)

1. **íŒŒì¼ ìœ„ì¹˜**:
   ```
   build/application/WF_EOL_Tester/
   ```

2. **ë°°í¬ ë°©ë²•**:
   - ì „ì²´ í´ë”ë¥¼ ZIPìœ¼ë¡œ ì••ì¶•
   - ì••ì¶• í•´ì œ í›„ `WF_EOL_Tester.exe` ì‹¤í–‰

3. **ì£¼ì˜ì‚¬í•­**:
   - ì „ì²´ í´ë” êµ¬ì¡°ë¥¼ ìœ ì§€í•´ì•¼ í•¨
   - `_internal/`, `configuration/`, `driver/` í´ë” í•„ìˆ˜

## ğŸ”„ ë²„ì „ ì—…ë°ì´íŠ¸

ìƒˆ ë²„ì „ ë¹Œë“œ ì‹œ:

1. **ë²„ì „ ë²ˆí˜¸ ì—…ë°ì´íŠ¸**:
   - `pyproject.toml`: `version = "0.2.0"`
   - `installer.iss`: `#define MyAppVersion "0.2.0"`

2. **ì „ì²´ ë¹Œë“œ ì‹¤í–‰**:
   ```batch
   build_all.bat
   ```

3. **ê²°ê³¼ í™•ì¸**:
   - ì„¤ì¹˜ íŒŒì¼ ì´ë¦„ì— ìƒˆ ë²„ì „ ë²ˆí˜¸ í™•ì¸
   - `build/installer/WF_EOL_Tester_Setup_0.2.0.exe`

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ê³„ì†ë˜ë©´:
- ë¹Œë“œ ë¡œê·¸ íŒŒì¼ í™•ì¸
- Python í™˜ê²½ ì¬ì„¤ì •
- í”„ë¡œì íŠ¸ Issue íŠ¸ë˜ì»¤ì— ë¬¸ì˜
